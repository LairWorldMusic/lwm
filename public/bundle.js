(()=>{class e{constructor(){this.audioInitialized=!1,this.currentPlugin=null,this.plugins=[],this.initializeEventListeners(),this.checkElectronAPI()}checkElectronAPI(){window.electronAPI?this.log("Electron API available"):this.error("Electron API not available")}initializeEventListeners(){document.getElementById("initAudio").addEventListener("click",()=>{this.initializeAudio()}),document.getElementById("testAudio").addEventListener("click",()=>{this.testAudioProcessing()})}async initializeAudio(){try{this.updateStatus("Initializing audio engine...","info");const e=await window.electronAPI.initializeAudio();if(!e.success)throw new Error(e.message||"Failed to initialize audio engine");this.audioInitialized=!0,this.updateStatus("Audio engine initialized successfully!","success"),document.getElementById("testAudio").disabled=!1,document.getElementById("initAudio").disabled=!1,this.updateWorkspace("\n                    <h2>Audio Engine Ready</h2>\n                    <p>Audio engine has been initialized successfully.</p>\n                    <p>You can now load VST3 plugins and start processing audio.</p>\n                ")}catch(e){this.updateStatus(`Error initializing audio: ${e.message}`,"error"),this.error("Audio initialization failed:",e)}}async testAudioProcessing(){try{this.updateStatus("Testing audio processing...","info");const e=44100,t=440,i=1*e,s=new Float32Array(i);for(let n=0;n<i;n++)s[n]=Math.sin(2*Math.PI*t*n/e);const n=await window.electronAPI.processAudio(s);if(!n.success)throw new Error("Audio processing failed");this.updateStatus("Audio processing test completed!","success"),this.updateWorkspace(`\n                    <h2>Audio Processing Test</h2>\n                    <p>Successfully processed ${i} audio samples.</p>\n                    <p>Input: ${t}Hz sine wave</p>\n                    <p>Output: ${n.processedData?"Processed data received":"No output data"}</p>\n                `)}catch(e){this.updateStatus(`Audio processing test failed: ${e.message}`,"error"),this.error("Audio processing test failed:",e)}}updateWorkspace(e){document.getElementById("workspaceContent").innerHTML=e}updateStatus(e,t="info"){const i=document.getElementById("status");i.textContent=e,i.className=`status ${t}`,this.log(`[${t.toUpperCase()}] ${e}`)}log(...e){window.electronAPI?window.electronAPI.log(...e):console.log(...e)}error(...e){window.electronAPI?window.electronAPI.error(...e):console.error(...e)}}document.addEventListener("DOMContentLoaded",()=>{window.app=new e})})();